{"version":3,"file":"static/js/775.d5fb37ec.chunk.js","mappings":"gTAgEA,EA1De,WACb,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,KAAM,CAAC,EACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,KAMQC,GAAOC,EAAAA,EAAAA,MAAPD,IAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,mCAAG,oGAErBJ,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBR,SAAS,EACTC,MAAO,MAHS,IAFG,UAOAQ,EAAAA,EAAAA,IAAUL,GAPV,OAOfM,EAPe,OAQrBP,GAAS,SAAAK,GACP,OAAO,kBACFA,GADL,IAEET,KAAMW,GAET,IAboB,gDAerBP,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBP,MAAK,MAFW,IAfG,yBAqBrBE,GAAS,SAAAK,GACP,OAAO,kBACFA,GADL,IAEER,SAAS,GAEZ,IA1BoB,4EAAH,qDA8BtBO,GACD,GAAE,CAACH,EAAID,IAER,IAAQH,EAAmBE,EAAnBF,QAASC,EAAUC,EAAVD,MAEjB,EAAiDC,EAAMH,KAA/CY,EAAR,EAAQA,MAAOC,EAAf,EAAeA,YAAaC,EAA5B,EAA4BA,iBAE5B,OACE,4BACE,wBAAKF,KACL,gBAAKG,IAAG,UAAKD,EAAL,eAAoCE,IAAI,sBAChD,uBAAIH,IACHZ,IAAW,SAACgB,EAAA,EAAD,IACXf,IAAS,mDAGf,ECjDKgB,EAAkBC,EAAAA,GAAAA,IAAH,6DAIfC,EAAKD,EAAAA,GAAAA,GAAH,6EAKR,EAlBmB,WACjB,OACE,UAACD,EAAD,YACE,SAACE,EAAD,2BACA,SAAC,EAAD,MAGL,C,iHCTKC,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGLC,EAAW,SAACC,GACdJ,EAASK,SAASC,QAAQC,OAAOC,cAAjC,iBAA2DJ,EAC9D,EAEYK,EAAQ,mCAAG,+GAECT,EAASU,IAAI,0CAFd,OAEdpB,EAFc,OAGdc,EAAQd,EAAOqB,KAAKP,MAE1BD,EAAUC,GALU,oHAAH,qDAWRQ,EAAc,mCAAG,+GAEpBH,IAFoB,uBAGHT,EAASU,IAAI,yBAHV,uBAGlBC,EAHkB,EAGlBA,KAHkB,kBAInBA,EAAKE,SAJc,uGAAH,qDAUdxB,EAAS,mCAAG,WAAOL,GAAP,kGAEfyB,IAFe,uBAGET,EAASU,IAAT,gCAAsC1B,IAHxC,uBAGb2B,EAHa,EAGbA,KAHa,kBAIdA,GAJc,uGAAH,qD","sources":["components/Course/Course.jsx","pages/CoursePage/CoursePage.jsx","shared/api/courses.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { getCourse } from \"shared/api/courses\";\nimport { useParams } from \"react-router-dom\";\nimport { Loader } from \"components/Loader/Loader\";\n\n\nconst Course = () => {\n  const [state, setState] = useState({\n    item: {},\n    loading: false,\n    error: null,\n  });\n\n  const { id } = useParams();\n  \n  useEffect(() => {\n    const fetchCoursesList = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n          error: null,\n        }));\n        const result = await getCourse(id);\n        setState(prevState => {\n          return {\n            ...prevState,\n            item: result,\n          }\n        })\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }));\n      }\n      finally {\n        setState(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n          }\n        })\n      }\n    };\n\n    fetchCoursesList()\n  }, [id, setState]);\n\n  const { loading, error } = state;\n\n  const { title, description, previewImageLink } = state.item;\n\n  return (\n    <div>\n      <h3>{title}</h3>\n      <img src={`${previewImageLink}/cover.webp`} alt=\"previewImageLink\" />\n      <p>{description}</p>\n      {loading && <Loader />}\n      {error && <p>Loading movies failed</p>} \n    </div>\n  )\n}\n\nexport default Course;","import styled from \"styled-components\";\n\nimport Course from \"components/Course/Course\";\n\nconst CoursePage = () => {\n  return (\n    <MoviesContainer>\n      <H2>Course Page</H2>\n      <Course />\n    </MoviesContainer>\n  )\n}\n\nconst MoviesContainer = styled.div`\nmax-width: 1140px;\nmargin: 0 auto;\n`\nconst H2 = styled.h2`\nfont-size: 32px;\ntext-align: center;\nmargin:12px;\n`\nexport default CoursePage;","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://api.wisey.app/api/v1\",\n});\n\nconst setToken = (token) => {\n    instance.defaults.headers.common.authorization = `Bearer ${token}`; \n};\n\nexport const getToken = async () => {\n  try {\n    const result = await instance.get(\"/auth/anonymous?platform=subscriptions\");\n    const token = result.data.token;\n    // console.log(token);\n    setToken (token);\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCoursesList = async () => {\n  try {\n    await getToken();\n    const { data } = await instance.get(\"/core/preview-courses\");\n    return data.courses;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCourse = async (id) => {\n  try {\n    await getToken();\n    const { data } = await instance.get(`/core/preview-courses/${id}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n"],"names":["useState","item","loading","error","state","setState","id","useParams","useEffect","fetchCoursesList","prevState","getCourse","result","title","description","previewImageLink","src","alt","Loader","MoviesContainer","styled","H2","instance","axios","baseURL","setToken","token","defaults","headers","common","authorization","getToken","get","data","getCoursesList","courses"],"sourceRoot":""}