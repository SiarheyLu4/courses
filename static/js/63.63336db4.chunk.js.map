{"version":3,"file":"static/js/63.63336db4.chunk.js","mappings":"iUA+EMA,EAAKC,EAAAA,GAAAA,GAAH,4IASFC,EAAKD,EAAAA,GAAAA,GAAH,iGAOFE,EAAMF,EAAAA,GAAAA,IAAH,sDAKHG,GAAcH,EAAAA,EAAAA,IAAOI,EAAAA,GAAPJ,CAAH,yGAOjB,EAnGoB,WAClB,OAA0BK,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,MAMAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,mCAAG,oGAErBF,GAAS,SAAAG,GAAS,yBACbA,GADa,IAEhBN,SAAS,EACTC,MAAO,MAHS,IAFG,UAOAM,EAAAA,EAAAA,MAPA,OAOfC,EAPe,OAQrBL,GAAS,SAAAG,GACP,OAAO,kBACFA,GADL,IAEEP,MAAM,GAAD,eAAMO,EAAUP,QAAhB,OAA0BS,KAElC,IAboB,gDAerBL,GAAS,SAAAG,GAAS,yBACbA,GADa,IAEhBL,MAAK,MAFW,IAfG,yBAqBrBE,GAAS,SAAAG,GACP,OAAO,kBACFA,GADL,IAEEN,SAAS,GAEZ,IA1BoB,4EAAH,qDA8BtBK,GACD,GAAE,CAACF,IAEJ,IAAQJ,EAA0BG,EAA1BH,MAAOC,EAAmBE,EAAnBF,QAASC,EAAUC,EAAVD,MAElBQ,EAAWV,EAAMW,KAAI,gBAAGC,EAAH,EAAGA,GAC5BC,EADyB,EACzBA,MACAC,EAFyB,EAEzBA,iBACAC,EAHyB,EAGzBA,aACAC,EAJyB,EAIzBA,OAJyB,EAKzBC,KALyB,OAOzB,UAACtB,EAAD,YACE,UAACE,EAAD,CAAaqB,GAAE,WAAMN,GAArB,WACE,SAAChB,EAAD,CAAKuB,IAAG,UAAKL,EAAL,eAAoCM,IAAKN,KACjD,wBAAKD,QAEP,qCAAaE,MACb,oCAAYC,OANLJ,EAPgB,IAgB3B,OACE,4BACE,SAACnB,EAAD,UACGiB,IAEFT,IAAW,SAACoB,EAAA,EAAD,IACXnB,IAAS,mDAIf,EChEKoB,EAAgB5B,EAAAA,GAAAA,IAAH,6DAIb6B,EAAK7B,EAAAA,GAAAA,GAAH,6EAMR,EAnBgB,WACd,OACE,UAAC4B,EAAD,YACE,SAACC,EAAD,4BACA,SAAC,EAAD,MAGL,C,iHCTKC,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGLC,EAAW,SAACC,GACdJ,EAASK,SAASC,QAAQC,OAAOC,cAAjC,iBAA2DJ,EAC9D,EAEYK,EAAQ,mCAAG,+GAECT,EAASU,IAAI,0CAFd,OAEdzB,EAFc,OAGdmB,EAAQnB,EAAO0B,KAAKP,MAE1BD,EAAUC,GALU,oHAAH,qDAWRpB,EAAc,mCAAG,+GAEpByB,IAFoB,uBAGHT,EAASU,IAAI,yBAHV,uBAGlBC,EAHkB,EAGlBA,KAHkB,kBAInBA,EAAKC,SAJc,uGAAH,qDAUdC,EAAS,mCAAG,WAAOzB,GAAP,kGAEfqB,IAFe,uBAGET,EAASU,IAAT,gCAAsCtB,IAHxC,uBAGbuB,EAHa,EAGbA,KAHa,kBAIdA,GAJc,uGAAH,qD","sources":["components/CoursesList/CoursesList.jsx","pages/CoursesPage/CoursesPage.jsx","shared/api/courses.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport { Loader } from \"components/Loader/Loader\";\nimport { getCoursesList } from \"shared/api/courses\";\n\n\nconst CoursesList = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchCoursesList = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n          error: null,\n        }));\n        const result = await getCoursesList();\n        setState(prevState => {\n          return {\n            ...prevState,\n            items: [...prevState.items, ...result]\n          }\n        })\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }));\n      }\n      finally {\n        setState(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n          }\n        })\n      }\n    };\n\n    fetchCoursesList()\n  }, [setState]);\n\n  const { items, loading, error } = state;\n\n  const elements = items.map(({ id,\n    title,\n    previewImageLink,\n    lessonsCount,\n    rating,\n    meta,\n  }) =>\n    <Li key={id}>\n      <CourserLink to={`/${id}`}>\n        <Img src={`${previewImageLink}/cover.webp`} alt={previewImageLink} />\n        <h2>{title}</h2>\n      </CourserLink>\n      <p>lessons: {lessonsCount}</p>\n      <p>rating: {rating}</p>\n    </Li>)\n\n  return (\n    <div>\n      <Ul>\n        {elements}\n      </Ul>\n      {loading && <Loader />}\n      {error && <p>Loading movies failed</p>}\n    </div>\n  )\n\n}\n\nconst Ul = styled.ul`\ndisplay: flex;\nflex-wrap: wrap;\nmargin: -15px;\nlist-style: none;\ntext-align: center;\njustify-content: center;\n`\n\nconst Li = styled.li`\nflex-basis: calc(100% / 3 - 30px);\nmargin: 15px;\nborder: 1px solid;\n\n`\n\nconst Img = styled.img`\nwidth: 320px;\nmargin: 12px;\n`\n\nconst CourserLink = styled(Link)`\n  color: black;\n  font-size: 24px;\n  padding: 20px;\n  text-decoration: none;\n`\n\nexport default CoursesList;","import styled from \"styled-components\";\n\nimport CoursesList from \"components/CoursesList/CoursesList\";\n\nconst Courses = () => {\n  return (\n    <HomeContainer>\n      <H2>Courses Page</H2>\n      <CoursesList />\n    </HomeContainer>\n  )\n}\n\nconst HomeContainer = styled.div`\nmax-width: 1140px;\nmargin: 0 auto;\n`\nconst H2 = styled.h2`\nfont-size: 32px;\ntext-align: center;\nmargin:12px;\n`\n\nexport default Courses;","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://api.wisey.app/api/v1\",\n});\n\nconst setToken = (token) => {\n    instance.defaults.headers.common.authorization = `Bearer ${token}`; \n};\n\nexport const getToken = async () => {\n  try {\n    const result = await instance.get(\"/auth/anonymous?platform=subscriptions\");\n    const token = result.data.token;\n    // console.log(token);\n    setToken (token);\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCoursesList = async () => {\n  try {\n    await getToken();\n    const { data } = await instance.get(\"/core/preview-courses\");\n    return data.courses;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCourse = async (id) => {\n  try {\n    await getToken();\n    const { data } = await instance.get(`/core/preview-courses/${id}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n"],"names":["Ul","styled","Li","Img","CourserLink","Link","useState","items","loading","error","state","setState","useEffect","fetchCoursesList","prevState","getCoursesList","result","elements","map","id","title","previewImageLink","lessonsCount","rating","meta","to","src","alt","Loader","HomeContainer","H2","instance","axios","baseURL","setToken","token","defaults","headers","common","authorization","getToken","get","data","courses","getCourse"],"sourceRoot":""}