{"version":3,"file":"static/js/63.e3d585d5.chunk.js","mappings":"yTA+DA,EAzDoB,WAClB,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,MAMAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,mCAAG,oGAErBF,GAAS,SAAAG,GAAS,yBACbA,GADa,IAEhBN,SAAS,EACTC,MAAO,MAHS,IAFG,UAOAM,EAAAA,EAAAA,MAPA,OAOfC,EAPe,OAQrBL,GAAS,SAAAG,GACP,OAAO,kBACFA,GADL,IAEEP,MAAM,GAAD,eAAMO,EAAUP,QAAhB,OAA0BS,KAElC,IAboB,gDAerBL,GAAS,SAAAG,GAAS,yBACbA,GADa,IAEhBL,MAAK,MAFW,IAfG,yBAqBrBE,GAAS,SAAAG,GACP,OAAO,kBACFA,GADL,IAEEN,SAAS,GAEZ,IA1BoB,4EAAH,qDA8BtBK,GACD,GAAE,CAACF,IAEJ,IAAQJ,EAA0BG,EAA1BH,MAAOC,EAAmBE,EAAnBF,QAASC,EAAUC,EAAVD,MAElBQ,EAAWV,EAAMW,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OAAmB,yBAC5C,SAAC,KAAD,CAAMC,GAAE,WAAMF,GAAd,SAAqBC,KADgCD,EAA5B,IAI3B,OACE,4BACE,wBAAMF,IACLT,IAAW,SAACc,EAAA,EAAD,IACXb,IAAS,mDAIf,EChDKc,EAAgBC,EAAAA,GAAAA,IAAH,6DAIbC,EAAKD,EAAAA,GAAAA,GAAH,6EAMR,EAnBgB,WACd,OACE,UAACD,EAAD,YACE,SAACE,EAAD,4BACA,SAAC,EAAD,MAGL,C,iHCTKC,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,iCAGLC,EAAW,SAACC,GACdJ,EAASK,SAASC,QAAQC,OAAOC,cAAjC,iBAA2DJ,EAC9D,EAEYK,EAAQ,mCAAG,+GAECT,EAASU,IAAI,0CAFd,OAEdpB,EAFc,OAGdc,EAAQd,EAAOqB,KAAKP,MAE1BD,EAAUC,GALU,oHAAH,qDAWRf,EAAc,mCAAG,+GAEpBoB,IAFoB,uBAGHT,EAASU,IAAI,yBAHV,uBAGlBC,EAHkB,EAGlBA,KAHkB,kBAInBA,EAAKC,SAJc,uGAAH,qDAUdC,EAAS,mCAAG,WAAOpB,GAAP,kGAEfgB,IAFe,uBAGET,EAASU,IAAT,gCAAsCjB,IAHxC,uBAGbkB,EAHa,EAGbA,KAHa,kBAIdA,GAJc,uGAAH,qD","sources":["components/CoursesList/CoursesList.jsx","pages/CoursesPage/CoursesPage.jsx","shared/api/courses.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Loader } from \"components/Loader/Loader\";\nimport { getCoursesList } from \"shared/api/courses\";\n\nconst CoursesList = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchCoursesList = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n          error: null,\n        }));\n        const result = await getCoursesList();\n        setState(prevState => {\n          return {\n            ...prevState,\n            items: [...prevState.items, ...result]\n          }\n        })\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }));\n      }\n      finally {\n        setState(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n          }\n        })\n      }\n    };\n\n    fetchCoursesList()\n  }, [setState]);\n\n  const { items, loading, error } = state;\n\n  const elements = items.map(({ id, title }) => <li key={id}>\n    <Link to={`/${id}`}>{title}</Link>\n  </li>)\n\n  return (\n    <div>\n      <ol>{ elements }</ol>\n      {loading && <Loader />}\n      {error && <p>Loading movies failed</p>}\n    </div>\n  )\n\n}\n\nexport default CoursesList;","import styled from \"styled-components\";\n\nimport CoursesList from \"components/CoursesList/CoursesList\";\n\nconst Courses = () => {\n  return (\n    <HomeContainer>\n      <H2>Courses Page</H2>\n      <CoursesList />\n    </HomeContainer>\n  )\n}\n\nconst HomeContainer = styled.div`\nmax-width: 1140px;\nmargin: 0 auto;\n`\nconst H2 = styled.h2`\nfont-size: 32px;\ntext-align: center;\nmargin:12px;\n`\n\nexport default Courses;","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://api.wisey.app/api/v1\",\n});\n\nconst setToken = (token) => {\n    instance.defaults.headers.common.authorization = `Bearer ${token}`; \n};\n\nexport const getToken = async () => {\n  try {\n    const result = await instance.get(\"/auth/anonymous?platform=subscriptions\");\n    const token = result.data.token;\n    // console.log(token);\n    setToken (token);\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCoursesList = async () => {\n  try {\n    await getToken();\n    const { data } = await instance.get(\"/core/preview-courses\");\n    return data.courses;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCourse = async (id) => {\n  try {\n    await getToken();\n    const { data } = await instance.get(`/core/preview-courses/${id}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n"],"names":["useState","items","loading","error","state","setState","useEffect","fetchCoursesList","prevState","getCoursesList","result","elements","map","id","title","to","Loader","HomeContainer","styled","H2","instance","axios","baseURL","setToken","token","defaults","headers","common","authorization","getToken","get","data","courses","getCourse"],"sourceRoot":""}